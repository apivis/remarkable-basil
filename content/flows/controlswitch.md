---
title: "Node-RED example flow: If  switch is < 50 turn ON until switch is > 100. If switch is > 50 before ON turn OFF"
layout: page
---

```
[{"id":"6ca0fe5e.2fb41","type":"tab","label":"control a switch","disabled":false,"info":""},{"id":"b2156b43.76b788","type":"inject","z":"6ca0fe5e.2fb41","name":"","topic":"","payload":"49","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":220,"wires":[["8882dc05.1c6da"]]},{"id":"3d4601c8.aab14e","type":"inject","z":"6ca0fe5e.2fb41","name":"","topic":"","payload":"51","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":280,"wires":[["8882dc05.1c6da"]]},{"id":"abc73849.7c6398","type":"switch","z":"6ca0fe5e.2fb41","name":"payload > 50 or < 50","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"50","vt":"num"},{"t":"lt","v":"50","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":840,"y":320,"wires":[["5325a04d.39854"],["f76851d4.84fd5"]]},{"id":"92b9c208.dea81","type":"inject","z":"6ca0fe5e.2fb41","name":"","topic":"","payload":"101","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":420,"wires":[["8882dc05.1c6da"]]},{"id":"e7da0dbd.61fcb","type":"switch","z":"6ca0fe5e.2fb41","name":"payload > 50","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"50","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":790,"y":180,"wires":[["2dce1715.cd4a48"],["66241d16.bee1a4"]]},{"id":"5325a04d.39854","type":"change","z":"6ca0fe5e.2fb41","name":"OFF","rules":[{"t":"set","p":"switch","pt":"flow","to":"OFF","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1030,"y":280,"wires":[["25bec5ce.f548fa"]]},{"id":"288d1b39.bd4c24","type":"change","z":"6ca0fe5e.2fb41","name":"ON","rules":[{"t":"set","p":"switch","pt":"flow","to":"ON","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":120,"wires":[["4b972391.c542fc"]]},{"id":"35db769d.b204ea","type":"switch","z":"6ca0fe5e.2fb41","name":"ON or OFF","property":"switch","propertyType":"msg","rules":[{"t":"cont","v":"ON","vt":"str"},{"t":"cont","v":"OFF","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":630,"y":280,"wires":[["e7da0dbd.61fcb"],["abc73849.7c6398"],["abc73849.7c6398"]]},{"id":"f76851d4.84fd5","type":"change","z":"6ca0fe5e.2fb41","name":"ON","rules":[{"t":"set","p":"switch","pt":"flow","to":"ON","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1030,"y":340,"wires":[["a6a1cae9.47cd58"]]},{"id":"25bec5ce.f548fa","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":280,"wires":[["a2c633cc.71599"]]},{"id":"a6a1cae9.47cd58","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1200,"y":340,"wires":[["73e596fe.b426d8"]]},{"id":"4b972391.c542fc","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":120,"wires":[["eafbbb3a.ee2088"]]},{"id":"66241d16.bee1a4","type":"change","z":"6ca0fe5e.2fb41","name":"ON","rules":[{"t":"set","p":"switch","pt":"flow","to":"ON","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":220,"wires":[["c197d5d8.886358"]]},{"id":"c197d5d8.886358","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1120,"y":220,"wires":[["ae37a55e.cdc698"]]},{"id":"2dce1715.cd4a48","type":"switch","z":"6ca0fe5e.2fb41","name":"payload < 100","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"100","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":980,"y":140,"wires":[["288d1b39.bd4c24"],["5dd6bd63.c03c54"]]},{"id":"5dd6bd63.c03c54","type":"change","z":"6ca0fe5e.2fb41","name":"OFF","rules":[{"t":"set","p":"switch","pt":"flow","to":"OFF","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":160,"wires":[["9df59471.bc74a8"]]},{"id":"9df59471.bc74a8","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":160,"wires":[["ebf1e1fe.3fbf9"]]},{"id":"8882dc05.1c6da","type":"change","z":"6ca0fe5e.2fb41","name":"","rules":[{"t":"set","p":"switch","pt":"msg","to":"switch","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":280,"wires":[["35db769d.b204ea"]]},{"id":"9c66ef12.86f5","type":"inject","z":"6ca0fe5e.2fb41","name":"","topic":"","payload":"70","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":250,"y":340,"wires":[["8882dc05.1c6da"]]},{"id":"ebf1e1fe.3fbf9","type":"link out","z":"6ca0fe5e.2fb41","name":"","links":["df0cff8a.a3ed7"],"x":1435,"y":160,"wires":[]},{"id":"eafbbb3a.ee2088","type":"link out","z":"6ca0fe5e.2fb41","name":"","links":["69a81971.ae0178"],"x":1435,"y":120,"wires":[]},{"id":"ae37a55e.cdc698","type":"link out","z":"6ca0fe5e.2fb41","name":"","links":["69a81971.ae0178"],"x":1275,"y":220,"wires":[]},{"id":"a2c633cc.71599","type":"link out","z":"6ca0fe5e.2fb41","name":"","links":["df0cff8a.a3ed7"],"x":1295,"y":280,"wires":[]},{"id":"73e596fe.b426d8","type":"link out","z":"6ca0fe5e.2fb41","name":"","links":["69a81971.ae0178"],"x":1315,"y":340,"wires":[]},{"id":"69a81971.ae0178","type":"link in","z":"6ca0fe5e.2fb41","name":"","links":["eafbbb3a.ee2088","ae37a55e.cdc698","73e596fe.b426d8"],"x":535,"y":400,"wires":[["bb8dac1a.96955"]]},{"id":"df0cff8a.a3ed7","type":"link in","z":"6ca0fe5e.2fb41","name":"","links":["ebf1e1fe.3fbf9","a2c633cc.71599"],"x":535,"y":460,"wires":[["d4aa0760.822328"]]},{"id":"bb8dac1a.96955","type":"debug","z":"6ca0fe5e.2fb41","name":"ON","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":630,"y":400,"wires":[]},{"id":"d4aa0760.822328","type":"debug","z":"6ca0fe5e.2fb41","name":"OFF","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":630,"y":460,"wires":[]},{"id":"ed050316.71665","type":"comment","z":"6ca0fe5e.2fb41","name":"If  switch is < 50 turn ON until switch is > 100. If switch is > 50 before ON turn OFF","info":"","x":580,"y":60,"wires":[]}]
```
